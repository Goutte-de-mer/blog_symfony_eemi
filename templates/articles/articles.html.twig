{% extends 'base.html.twig' %}

{% block title %}Articles
{% endblock %}

{% block body %}
	<main class="flex flex-col items-center">

		<h1 class="font-bold text-3xl mb-7 text-dark_purple uppercase">Tous les articles</h1>
		<div class="my-4">
			{% if page > 1 %}
				<a href="{{path('app_articles', {page: page - 1})}}" class="btn btn-secondary">Page précédente</a>

			{% endif %}
			{% if page < maxPage %}
				<a href="{{path('app_articles', {page: page + 1})}}" class="btn btn-secondary">Page suivante</a>
			{% endif %}

		</div>
		<div class="grid grid-cols-3 gap-7 mx-auto">
			{% for article in articles %}

				<div class="flex flex-col p-6 bg-white shadow-lg rounded-lg w-[400px]">

					<h2 class="text-xl font-bold mb-5">{{ article.title }}</h2>
					<p class="text-justify mb-5">{{ article.content|length > 130 ? article.content[:130] ~ '...' : article.content  }}</p>

					<div class="mt-auto flex justify-between">
						<a href="{{ path('app_article_show', {'id': article.id}) }}" class="text-dark_purple font-semibold">Lire plus ></a>
						<small>Publié le :
							{{article.createdAt|date('d/m/Y')}}</small>
					</div>


				</div>

			{% endfor %}

		</div>
	</main>

{% endblock %}
